<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fee Payment {{reminderType}} - {{companyName}}</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
            color: white;
            padding: 30px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
        }
        .content {
            padding: 20px 0;
        }
        .fee-details {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .amount {
            font-size: 24px;
            font-weight: bold;
            color: #856404;
            text-align: center;
            margin: 10px 0;
        }
        .button {
            display: inline-block;
            background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            margin: 20px 0;
        }
        .urgent {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        .footer {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .payment-method {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #e9ecef;
        }
        @media (max-width: 600px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            .header {
                padding: 20px;
                margin: -15px -15px 15px -15px;
            }
            .payment-methods {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ {{companyName}}</h1>
            <p>Fee Payment {{reminderType}}Reminder{{/reminderType}}</p>
        </div>
        
        <div class="content">
            <h2>Hello {{studentName}}{{parentName}}{{name}}!</h2>
            
            {{isOverdue}}
            <div class="urgent">
                üö® <strong>OVERDUE PAYMENT NOTICE</strong><br>
                This payment is now {{overdueDays}} days overdue. Please make the payment immediately to avoid service interruption.
            </div>
            {{/isOverdue}}
            
            {{isDueSoon}}
            <div class="warning">
                ‚ö†Ô∏è <strong>PAYMENT DUE SOON</strong><br>
                Your fee payment is due in {{daysRemaining}} days.
            </div>
            {{/isDueSoon}}
            
            {{isPaid}}
            <div class="success">
                ‚úÖ <strong>PAYMENT RECEIVED</strong><br>
                Thank you! Your payment has been successfully processed.
            </div>
            {{/isPaid}}
            
            {{^isPaid}}
            <p>This is {{friendlyReminder}}a friendly reminder{{/friendlyReminder}}{{urgentNotice}}an urgent notice{{/urgentNotice}} about your {{feeType}}fee{{/feeType}} payment for {{companyName}}.</p>
            
            <div class="fee-details">
                <h3>üìã Payment Details:</h3>
                <ul>
                    <li><strong>Student:</strong> {{studentName}}</li>
                    {{parentName}}
                    <li><strong>Parent/Guardian:</strong> {{parentName}}</li>
                    {{/parentName}}
                    <li><strong>Batch:</strong> {{batchName}}{{courseName}}</li>
                    <li><strong>Fee Type:</strong> {{feeType}}</li>
                    <li><strong>Period:</strong> {{feePeriod}}{{month}} {{year}}{{/feePeriod}}</li>
                    <li><strong>Due Date:</strong> {{dueDate}}</li>
                    <li><strong>Days {{isOverdue}}Overdue{{/isOverdue}}{{^isOverdue}}Remaining{{/isOverdue}}:</strong> {{daysRemaining}}{{overdueDays}}</li>
                    {{invoiceNumber}}
                    <li><strong>Invoice #:</strong> {{invoiceNumber}}</li>
                    {{/invoiceNumber}}
                </ul>
                
                <div class="amount">
                    {{currency}}‚Çπ{{/currency}}{{amount}}
                    {{lateFee}}
                    <br><small style="color: #dc3545;">+ Late Fee: {{currency}}‚Çπ{{/currency}}{{lateFee}}</small>
                    {{/lateFee}}
                    {{totalAmount}}
                    <br><strong>Total: {{currency}}‚Çπ{{/currency}}{{totalAmount}}</strong>
                    {{/totalAmount}}
                </div>
                
                {{discount}}
                <div style="background: #d4edda; border: 1px solid #c3e6cb; color: #155724; padding: 10px; border-radius: 5px; margin: 15px 0; text-align: center;">
                    üéâ <strong>Special Discount:</strong> {{discountPercent}}% off (Save {{currency}}‚Çπ{{/currency}}{{discountAmount}})
                </div>
                {{/discount}}
            </div>
            
            <div style="text-align: center;">
                <a href="{{paymentLink}}{{paymentUrl}}" class="button">Pay Now</a>
                {{installmentOption}}
                <a href="{{installmentLink}}" class="button" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">View Installment Options</a>
                {{/installmentOption}}
            </div>
            
            <div class="payment-methods">
                <div class="payment-method">
                    <strong>üí≥ Online Payment</strong><br>
                    <small>Credit/Debit Cards, Net Banking</small>
                </div>
                <div class="payment-method">
                    <strong>üì± UPI Payment</strong><br>
                    <small>GPay, PhonePe, Paytm</small>
                </div>
                <div class="payment-method">
                    <strong>üè¶ Bank Transfer</strong><br>
                    <small>NEFT/RTGS/IMPS</small>
                </div>
                <div class="payment-method">
                    <strong>üí∞ Cash/Cheque</strong><br>
                    <small>At Center Office</small>
                </div>
            </div>
            
            {{bankDetails}}
            <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
                <h4>üè¶ Bank Transfer Details:</h4>
                <ul style="list-style: none; padding: 0;">
                    <li><strong>Account Name:</strong> {{accountName}}</li>
                    <li><strong>Account Number:</strong> {{accountNumber}}</li>
                    <li><strong>IFSC Code:</strong> {{ifscCode}}</li>
                    <li><strong>Bank:</strong> {{bankName}}</li>
                </ul>
                <small><em>Please mention {{studentName}}'s name and invoice number in transfer remarks.</em></small>
            </div>
            {{/bankDetails}}
            
            {{paymentHistory}}
            <div style="background: #e9ecef; padding: 15px; border-radius: 5px; margin: 20px 0;">
                <h4>üìä Recent Payments:</h4>
                <ul>
                {{#each payments}}
                    <li>{{date}} - {{currency}}‚Çπ{{/currency}}{{amount}} ({{status}})</li>
                {{/each}}
                </ul>
            </div>
            {{/paymentHistory}}
            
            <p>If you have already made this payment, please ignore this reminder or contact us with your payment reference number.</p>
            
            {{contactInfo}}
            <p><strong>Questions about your payment?</strong> Contact us at {{supportEmail}} or call {{supportPhone}}.</p>
            {{/contactInfo}}
            {{/isPaid}}
        </div>
        
        <div class="footer">
            <p>¬© {{currentYear}} {{companyName}}. All rights reserved.</p>
            <p>Payment queries: {{supportEmail}}fees@{{companyDomain}}{{/supportEmail}} | {{supportPhone}}Call Support{{/supportPhone}}</p>
            {{websiteUrl}}
            <p>Visit us at <a href="{{websiteUrl}}" style="color: #ffc107;">{{websiteUrl}}</a></p>
            {{/websiteUrl}}
            {{officeAddress}}
            <p><strong>Office:</strong> {{officeAddress}}</p>
            {{/officeAddress}}
        </div>
    </div>
</body>
</html>